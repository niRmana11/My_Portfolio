<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>My Projects</title>
    <link rel="stylesheet" href="/css/projectsStyle.css" />

    <!-- Swiper CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
  </head>
  <body>
    <header>
      <h1>ðŸš€ My Projects</h1>
    </header>

    <main class="projects-container">
      <!-- Project 1 -->
      <div class="project-card">
        <div class="swiper project-swiper all-swiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <img src="/assets/projects/weratework/1.png" alt="Project 1" />
            </div>
            <div class="swiper-slide">
              <img src="/assets/projects/weratework/2.png" alt="Project 1" />
            </div>
            <div class="swiper-slide">
              <img src="/assets/projects/weratework/3.png" alt="Project 1" />
            </div>
            <div class="swiper-slide">
              <img src="/assets/projects/weratework/4.png" alt="Project 1" />
            </div>
            <div class="swiper-slide">
              <img src="/assets/projects/weratework/5.png" alt="Project 1" />
            </div>
            <div class="swiper-slide">
              <img src="/assets/projects/weratework/6.png" alt="Project 1" />
            </div>
            <div class="swiper-slide">
              <img src="/assets/projects/weratework/7.png" alt="Project 1" />
            </div>
            <div class="swiper-slide">
              <img src="/assets/projects/weratework/8.png" alt="Project 1" />
            </div>
          </div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-pagination"></div>
        </div>
        <div class="project-info">
          <h3>WeRateWork - Employee Satisfaction Web App</h3>
          <p>
            WeRateWork is a full-stack employee satisfaction web application
            built to collect, manage, and analyze employee feedback across
            different job roles and work categories.
          </p>
          <button class="read-more-btn" data-project="1">Read More</button>
        </div>
      </div>

      <!-- Project 2 -->
      <div class="project-card">
        <div class="swiper project-swiper all-swiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <img src="/assets/projects/budgetbuddy/1.png" alt="Project 1" />
            </div>
            <div class="swiper-slide">
              <img src="/assets/projects/budgetbuddy/2.png" alt="Project 1" />
            </div>
          </div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-pagination"></div>
        </div>
        <div class="project-info">
          <h3>WeRateWork - Employee Satisfaction Web App</h3>
          <p>
            WeRateWork is a full-stack employee satisfaction web application
            built to collect, manage, and analyze employee feedback across
            different job roles and work categories.
          </p>
          <button class="read-more-btn" data-project="1">Read More</button>
        </div>
      </div>
    </main>

    <!-- Popup Modal -->
    <div id="project-modal" class="modal">
      <div class="modal-content">
        <span class="close-btn">&times;</span>
        <div class="swiper modal-swiper all-swiper">
          <div class="swiper-wrapper"></div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-pagination"></div>
        </div>
        <div class="modal-description">
          <h2></h2>
          <p></p>
          <ul></ul>
          <div id="modal-tech-stack"></div>
          <button id="modal-github-btn">GitHub</button>
        </div>
      </div>
    </div>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <script>
      // Initialize project card swipers
      let modalSwipers = [];
      document.querySelectorAll(".all-swiper").forEach((swiperEl) => {
        const swiper = new Swiper(swiperEl, {
          loop: true,
          navigation: {
            nextEl: swiperEl.querySelector(".swiper-button-next"),
            prevEl: swiperEl.querySelector(".swiper-button-prev"),
          },
          pagination: {
            el: swiperEl.querySelector(".swiper-pagination"),
            clickable: true,
          },
          autoplay: {
            delay: 3000,
            disableOnInteraction: false,
          },
        });
        modalSwipers.push(swiper);
      });

      // Project Data
      const projectData = {
        1: {
          title: "WeRateWork - Employee Satisfaction Web App",
          description:
            "A full-stack web app for employees to rate and manage workplace feedback.",
          features: {
            employee: [
              "Rate Job Categories: Rate various work-related categories on a scale of 1â€“5.",
              "Add Comments: Submit optional feedback comments.",
              "Smart Form UX: Emoji-based rating selection.",
            ],
            admin: [
              "Admin Dashboard: Bar Chart, Pie Chart, Line Chart",
              "Filters & Management: Filter ratings, add/delete categories/roles",
            ],
            technical: [
              "Authentication: Secure login system",
              "Modern UI/UX: Mobile-friendly layout, gradient buttons, dark theme",
            ],
          },
          tech: [
            "Java 22",
            "Spring Boot",
            "HTML5",
            "CSS3",
            "MySQL",
            "JavaScript ",
            "Chart.js",
            "IntelliJ IDEA",
          ],
          github: "https://github.com/username/WeRateWork",
          images: [
            "/assets/projects/weratework/1.png",
            "/assets/projects/weratework/2.png",
            "/assets/projects/weratework/3.png",
            "/assets/projects/weratework/4.png",
            "/assets/projects/weratework/5.png",
            "/assets/projects/weratework/6.png",
            "/assets/projects/weratework/7.png",
            "/assets/projects/weratework/8.png",
          ],
        },
      };

      const modal = document.getElementById("project-modal");
      const closeBtn = document.querySelector(".close-btn");
      const readMoreBtns = document.querySelectorAll(".read-more-btn");
      let modalSwiper;

      readMoreBtns.forEach((btn) => {
        btn.addEventListener("click", () => {
          const projectId = btn.dataset.project;
          const data = projectData[projectId];

          // Title & description
          document.querySelector(".modal-description h2").textContent =
            data.title;
          document.querySelector(".modal-description p").textContent =
            data.description;

          // Features with categories
          const ulFeatures = document.querySelector(".modal-description ul");
          ulFeatures.innerHTML = "";
          for (const category in data.features) {
            const heading = document.createElement("li");
            heading.textContent =
              category === "employee"
                ? "ðŸ‘¤ Employee Features"
                : category === "admin"
                ? "ðŸ› ï¸ Admin Features"
                : "ðŸ§© Technical Highlights";
            heading.className = "feature-category";
            ulFeatures.appendChild(heading);

            const list = document.createElement("ul");
            data.features[category].forEach((f) => {
              const li = document.createElement("li");
              li.textContent = f;
              list.appendChild(li);
            });
            ulFeatures.appendChild(list);
          }

          // Tech stack pills
          const techContainer = document.getElementById("modal-tech-stack");
          techContainer.innerHTML = "";
          data.tech.forEach((t) => {
            const span = document.createElement("span");
            span.textContent = t;
            techContainer.appendChild(span);
          });

          // GitHub button
          const githubBtn = document.getElementById("modal-github-btn");
          githubBtn.onclick = () => window.open(data.github, "_blank");

          // Modal swiper images
          const swiperWrapper = document.querySelector(
            ".modal-swiper .swiper-wrapper"
          );
          swiperWrapper.innerHTML = data.images
            .map((img) => `<div class="swiper-slide"><img src="${img}"/></div>`)
            .join("");

          if (modalSwiper) modalSwiper.destroy();
          modalSwiper = new Swiper(".modal-swiper", {
            loop: true,
            navigation: {
              nextEl: ".modal-swiper .swiper-button-next",
              prevEl: ".modal-swiper .swiper-button-prev",
            },
            pagination: {
              el: ".modal-swiper .swiper-pagination",
              clickable: true,
            },
          });

          modal.style.display = "flex";
        });
      });

      closeBtn.addEventListener("click", () => (modal.style.display = "none"));
      window.addEventListener("click", (e) => {
        if (e.target === modal) modal.style.display = "none";
      });
    </script>
  </body>
</html>
